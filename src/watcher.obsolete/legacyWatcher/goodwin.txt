
$Id: goodwin.txt,v 1.3 2007/08/14 18:38:51 dkindred Exp $

Fun with goodwin.

The Goodwin is the name of Nero Wolf's investigator, from a series of murder
mysteries.  Nero Wolf is a recluse, he never leaves his house.  So Goodwin goes
out, observes everything, then comes back to Nero Wolf's place and tells him
whats going on.  From that, Nero Wolf (or the watcher...) solves the mystery.

goodwin the file format is a timestamped log of all the messages which a 
client receives via the idsCommunications API.  Note that it is /receives/,
transmissions are not recorded.  (perhaps that should be fixed...)  goodwin
files have no magic number, they tend to be mistaken for mpeg streams by
file.  That is the single most glaring design defect of the file format.

goodwin the program is a copy of the demo detector (isn't everything?) which
connects to a list of demons read from stdin, subscribes to all the watcher
messages, calls communicationsLogEnable() to enable logging of all the
idsCommunications messages on the API, and then optionally calls the 
watcherMovement code and stuffs GPS coordinate messages into the goodwin file.

More generally, when we are running on the elements with mullet, the goodwin
is not generating the GPS messages.  Instead they are coming from gpsDaemon,
and simply recorded like everything else.  Note that gpsDaemon sends its GPS
messages to all one hop neighbors, so each node is recording its, and all of
its neighbors' GPS messages, and the are /all/ going into the goodwin file.

Note how easily a program can have multiple instances of the idsCommunications
API, and how useful the trick is (i.e., API globals/statics are BAD).
