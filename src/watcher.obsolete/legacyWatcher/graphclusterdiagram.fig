#FIG 3.2
Portrait
Center
Inches
Letter  
51.00
Single
-2
1200 2
6 6525 600 7725 1050
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 0 0 2
	 6525 825 7725 825
4 0 0 50 -1 0 12 0.0000 4 180 840 6600 750 gotHELLO\001
4 0 0 50 -1 0 12 0.0000 4 180 1050 6600 975 clear root flag\001
-6
6 8550 1650 10425 2175
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 0 0 2
	 8550 1875 9675 1875
4 0 0 50 -1 0 12 0.0000 4 180 1845 8550 1800 helloTimer, no neighbors\001
4 0 0 50 -1 0 12 0.0000 4 180 930 8700 2100 Set root flag\001
-6
6 225 16800 12525 21750
4 0 0 50 -1 0 12 0.0000 4 180 2610 450 17400 Packet loss during TREE building?\001
4 0 0 50 -1 0 12 0.0000 4 180 2790 450 17625 Packet loss while sending TERMs.   \001
4 0 0 50 -1 0 12 0.0000 4 165 825 225 17100 Questions:\001
4 0 0 50 -1 0 12 0.0000 4 135 840 6900 17025 node state:\001
4 0 0 50 -1 0 12 0.0000 4 180 675 7125 17250 root Flag\001
4 0 0 50 -1 0 12 0.0000 4 180 1260 7125 17475 clusterhead Flag\001
4 0 0 50 -1 0 12 0.0000 4 180 1455 7125 17700 clusterhead pointer\001
4 0 0 50 -1 0 12 0.0000 4 180 1050 7125 17925 parent pointer\001
4 0 0 50 -1 0 12 0.0000 4 180 1290 7125 18150 root_ID, root seq\001
4 0 0 50 -1 0 12 0.0000 4 180 1125 9300 16950 neighbor state:\001
4 0 0 50 -1 0 12 0.0000 4 180 1035 9525 17175 root_distance\001
4 0 0 50 -1 0 12 0.0000 4 150 480 9525 17400 parent\001
4 0 0 50 -1 0 12 0.0000 4 180 1065 9525 17625 TERM packet\001
4 0 0 50 -1 0 12 0.0000 4 180 1215 9525 18075 clusterhead flag\001
4 0 0 50 -1 0 12 0.0000 4 180 1455 9525 17850 clusterhead pointer\001
4 0 0 50 -1 0 12 0.0000 4 135 1335 2100 18825 clusterKids does:\001
4 0 0 50 -1 0 12 0.0000 4 180 4275 2400 19050 sets neighbor clusterhead flags and clusterhead pointers\001
4 0 0 50 -1 0 12 0.0000 4 180 3810 2400 19275 sets node clusterhead flag and clusterhead pointer\001
4 0 0 50 -1 0 12 0.0000 4 180 3360 2400 19500 sends CLUSTER packets to all tree children\001
4 0 0 50 -1 0 12 0.0000 4 180 2280 2400 19725 sends TERM packet to parent\001
4 0 0 50 -1 0 12 0.0000 4 180 3765 8175 19125 walk neighbors, to find closest to root.  ITs parent\001
4 0 0 50 -1 0 12 0.0000 4 180 3375 8175 19350 send TREE with our root distance parent + 1\001
4 0 0 50 -1 0 12 0.0000 4 180 2325 7950 18900 when we send a TREE packet:\001
4 0 0 50 -1 0 12 0.0000 4 180 3645 450 18375 Appearance of extra neighbors during DADDYs\001
4 0 0 50 -1 0 12 0.0000 4 180 3480 450 18150 Appearance of extra neighbors during TERMs\001
4 0 0 50 -1 0 12 0.0000 4 180 2730 450 17850 neighbor loss while sending TERMs\001
4 0 0 50 -1 0 12 0.0000 4 180 4590 7650 20100 We may get a CLUSTER without ever haveing sent a TERM\001
4 0 0 50 -1 0 12 0.0000 4 180 4290 7650 20325 That just means the entire subtree honors the CLUSTER\001
4 0 0 50 -1 0 12 0.0000 4 180 2325 7650 20550 (This is a packet loss failsafe)\001
4 0 0 50 -1 0 12 0.0000 4 180 3120 8175 19575 parent is fixed when we leave TREEINIT\001
4 0 0 50 -1 0 12 0.0000 4 180 4320 7650 21000 neighbors come and go in HELLO module.  (so watch the\001
4 0 0 50 -1 0 12 0.0000 4 180 2820 7650 21225 memory allocation for neighbor  data)\001
4 0 0 50 -1 0 12 0.0000 4 180 4860 7650 21450 Note that graphcluster also needs to know when HELLO events\001
4 0 0 50 -1 0 12 0.0000 4 180 4215 7650 21675 occur, thus the HELLO module isn't separate right now.\001
4 0 0 50 -1 0 12 0.0000 4 180 4260 2025 20400 DADDY packets need to be routed by recording route in\001
4 0 0 50 -1 0 12 0.0000 4 180 3270 2025 20625 CLUSTER packets as they are propegated.\001
-6
6 5475 10875 7200 11475
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 0 0 2
	 5475 11175 7200 11175
4 0 0 50 -1 0 12 0.0000 4 135 1425 5625 11025 sendDADDYtimer\001
4 0 0 50 -1 0 12 0.0000 4 135 1080 5625 11475 send DADDY\001
-6
6 225 13650 2625 14400
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 0 0 2
	 225 13875 2175 13875
4 0 0 50 -1 0 12 0.0000 4 180 1350 300 13800 got DADDYACK\001
4 0 0 50 -1 0 12 0.0000 4 180 2070 225 14100 set real clusterhead pointer\001
4 0 0 50 -1 0 12 0.0000 4 180 2355 225 14325 set real root flag if root flag set\001
-6
6 -75 10425 2325 11325
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 0 0 2
	 -75 10650 1875 10650
4 0 0 50 -1 0 12 0.0000 4 180 1440 300 10575 got DADDY for us\001
4 0 0 50 -1 0 12 0.0000 4 180 915 300 10875 update level\001
4 0 0 50 -1 0 12 0.0000 4 165 1965 300 11100 if different, send DADDY\001
4 0 0 50 -1 0 12 0.0000 4 135 1470 300 11325 send DADDYACK\001
-6
6 10500 -1800 12900 1050
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 1 0 3
	2 1 1.00 60.00 120.00
	 10875 -1200 11475 -300 10875 525
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 0 0 2
	 11625 -450 12675 -450
2 2 0 1 0 7 50 -1 -1 0.000 0 0 -1 0 0 5
	 10500 -1800 12900 -1800 12900 1050 10500 1050 10500 -1800
4 0 0 50 -1 0 12 0.0000 4 135 1185 10875 -1425 START STATE\001
4 0 0 50 -1 0 12 0.0000 4 135 1005 10800 750 END STATE\001
4 0 0 50 -1 0 12 0.0000 4 135 510 11850 -225 Action\001
4 0 0 50 -1 0 12 0.0000 4 135 720 11775 -525 Condition\001
-6
6 -750 11625 2325 12375
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 0 0 2
	 -750 11850 2250 11850
4 0 0 50 -1 0 12 0.0000 4 180 2475 -600 12300 no route to next hop, drop packet\001
4 0 0 50 -1 0 12 0.0000 4 180 2955 -675 11775 got DADDY or DADDYACK for other\001
4 0 0 50 -1 0 12 0.0000 4 135 2610 -600 12075 forward DADDY or DADDYACK\001
-6
6 1800 8550 3300 9225
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 0 0 2
	 1800 8775 3225 8775
4 0 0 50 -1 0 12 0.0000 4 135 1485 1800 9000 forwardCLUSTERs\001
4 0 0 50 -1 0 12 0.0000 4 180 1050 2025 8700 gotCLUSTER\001
4 0 0 50 -1 0 12 0.0000 4 135 1080 1800 9225 send DADDY\001
-6
6 -1275 4425 2175 5550
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 0 0 2
	 -1275 4650 825 4650
4 0 0 50 -1 0 12 0.0000 4 180 1995 -1200 5100 add TREE to neighbor info\001
4 0 0 50 -1 0 12 0.0000 4 180 705 -1200 4575 gotTREE\001
4 0 0 50 -1 0 12 0.0000 4 165 2070 -1200 4875 if closer to root, sendTREE\001
4 0 0 50 -1 0 12 0.0000 4 180 3345 -1200 5325 if this is TREE for last neighbor, and no kids\001
4 0 0 50 -1 0 12 0.0000 4 135 2655 -1200 5550   sendTERM. state=TREEREADY\001
-6
6 5250 8100 8025 8625
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 0 0 2
	 5250 8325 8025 8325
4 0 0 50 -1 0 12 0.0000 4 180 2205 5475 8250 gotTERM, but not for all kids\001
4 0 0 50 -1 0 12 0.0000 4 180 2085 5550 8550 Add TERM to neighbor info\001
-6
6 2700 7500 4650 7950
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 0 0 2
	 2700 7725 4650 7725
4 0 0 50 -1 0 12 0.0000 4 180 1635 2925 7650 gotTERM, for all kids\001
4 0 0 50 -1 0 12 0.0000 4 135 885 2925 7950 clusterKids\001
-6
6 5025 8925 7950 9450
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 0 0 2
	 5025 9150 7800 9150
4 0 0 50 -1 0 12 0.0000 4 180 2475 5025 9375 Delete missing kids, clusterKids\001
4 0 0 50 -1 0 12 0.0000 4 180 2805 5100 9075 sendTERMtimer, have "enough" kids\001
-6
6 5250 5550 7350 6075
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 0 0 2
	 5250 5775 7200 5775
4 0 0 50 -1 0 12 0.0000 4 180 1830 5250 5700 gotTERM and have kids\001
4 0 0 50 -1 0 12 0.0000 4 180 2085 5250 6000 Add TERM to neighbor info\001
-6
6 9600 2850 12300 3675
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 0 0 2
	 9600 3150 12300 3150
4 0 0 50 -1 0 12 0.0000 4 180 1260 10050 3000 got higher TREE\001
4 0 0 50 -1 0 12 0.0000 4 180 1995 9675 3600 add TREE to neighbor info\001
4 0 0 50 -1 0 12 0.0000 4 135 870 9675 3375 send TREE\001
-6
6 9825 5775 13725 6600
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 0 0 2
	 9825 6075 11775 6075
4 0 0 50 -1 0 12 0.0000 4 180 3720 9975 6300 if we have another parent, move to it, send TREE\001
4 0 0 50 -1 0 12 0.0000 4 180 2040 9975 6525 Otherwise, go to NOTREE\001
4 0 0 50 -1 0 12 0.0000 4 180 1815 9975 5925 mobility removed parent\001
-6
6 9900 7125 11850 7650
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 0 0 2
	 9900 7350 11850 7350
4 0 0 50 -1 0 12 0.0000 4 180 1815 9975 7275 mobility removed parent\001
4 0 0 50 -1 0 12 0.0000 4 180 1155 9975 7575 go to NOTREE\001
-6
6 -3600 6900 -1950 7575
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 0 0 2
	 -3600 7125 -1950 7125
4 0 0 50 -1 0 12 0.0000 4 180 1050 -3525 7050 gotCLUSTER\001
4 0 0 50 -1 0 12 0.0000 4 135 1530 -3525 7350 forward CLUSTERs\001
4 0 0 50 -1 0 12 0.0000 4 135 1080 -3525 7575 send DADDY\001
-6
6 975 3300 2550 3825
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 0 0 2
	 975 3525 2400 3525
4 0 0 50 -1 0 12 0.0000 4 135 1215 1050 3450 sendTREEtimer\001
4 0 0 50 -1 0 12 0.0000 4 180 1380 1125 3750 sendTree (rexmit)\001
-6
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 1 0 3
	2 1 1.00 60.00 120.00
	 3675 1575 7275 1500 10575 1500
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 1 0 4
	2 1 1.00 60.00 120.00
	 10575 1350 9450 525 4050 525 3600 1350
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 1 0 3
	2 1 1.00 60.00 120.00
	 3225 1725 2550 2475 3150 4200
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 1 0 3
	2 1 1.00 60.00 120.00
	 3375 1725 3900 2325 3525 4200
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 0 0 2
	 750 2175 1725 2175
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 0 0 2
	 4125 2250 5400 2250
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 1 0 4
	2 1 1.00 60.00 120.00
	 4050 4425 9375 3300 7725 4125 4050 4500
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 1 0 3
	2 1 1.00 60.00 120.00
	 375 375 1425 375 2700 1425
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 1 0 4
	2 1 1.00 60.00 120.00
	 2925 4425 2550 4425 1350 4875 3000 4575
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 1 0 3
	2 1 1.00 60.00 120.00
	 1575 7200 2700 8925 3075 10050
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 1 0 3
	2 1 1.00 60.00 120.00
	 3525 10650 2700 14025 3225 14850
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 1 0 4
	2 1 1.00 60.00 120.00
	 4425 10500 5400 10950 4650 10875 4200 10575
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 0 0 2
	 4875 13275 7875 13275
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 1 0 4
	2 1 1.00 60.00 120.00
	 4050 10650 4800 13125 4275 12750 3900 10650
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 1 0 4
	2 1 1.00 60.00 120.00
	 2775 10500 2475 10650 2850 10800 3075 10575
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 1 0 4
	2 1 1.00 60.00 120.00
	 3225 10650 2475 11775 3075 11325 3375 10650
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 1 0 4
	2 1 1.00 60.00 120.00
	 3825 4575 9675 6075 6375 1725 3675 1650
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 1 0 3
	2 1 1.00 60.00 120.00
	 9675 6075 6675 4950 4050 4575
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 1 0 4
	2 1 1.00 60.00 120.00
	 6600 7275 9750 7275 6225 1800 3750 1725
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 1 0 2
	2 1 1.00 60.00 120.00
	 1350 4875 1575 6750
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 1 0 3
	2 1 1.00 60.00 120.00
	 6300 7425 5925 8025 5550 7425
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 1 0 3
	2 1 1.00 60.00 120.00
	 5025 7275 3375 7425 2100 7125
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 0 0 2
	 -1350 7200 225 7200
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 1 0 4
	2 1 1.00 60.00 120.00
	 675 6975 225 7125 600 7200 900 7050
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 1 0 6
	2 1 1.00 60.00 120.00
	 5250 7425 4950 8550 5100 8850 4800 8550 2625 8100 1875 7200
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 1 0 4
	2 1 1.00 60.00 120.00
	 3225 4575 5100 5850 4650 5925 5175 7050
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 1 0 3
	2 1 1.00 60.00 120.00
	 -1650 3975 -1950 4200 -1425 4425
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 1 0 5
	2 1 1.00 60.00 120.00
	 3000 4575 2100 5775 -300 6300 -1875 7275 2775 10275
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 1 0 4
	2 1 1.00 60.00 120.00
	 3000 4200 2475 3825 2550 4200 3000 4350
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 1 0 4
	2 1 1.00 60.00 120.00
	 3975 4350 8250 3000 8250 1875 8550 1500
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 1 0 4
	2 1 1.00 60.00 120.00
	 6600 7200 8325 7200 8325 1875 8625 1500
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 1 0 4
	2 1 1.00 60.00 120.00
	 4425 10350 8400 10350 8400 1875 8700 1500
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 1 0 4
	2 1 1.00 60.00 120.00
	 4575 15150 8475 15150 8475 1875 8775 1500
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 0 0 2
	 -3075 11400 -1425 11400
2 1 0 1 0 7 50 -1 -1 0.000 0 0 -1 1 0 8
	2 1 1.00 60.00 120.00
	 2325 15075 -600 14625 -3525 11700 -3225 11475 -3450 11250 -4050 4200
	 -600 3225 2625 4350
4 0 0 50 -1 0 12 0.0000 4 135 1095 2775 1650 NOTREEYET\001
4 0 0 50 -1 0 12 0.0000 4 135 1410 10725 1500 FLOATINGROOT\001
4 0 0 50 -1 0 12 0.0000 4 180 705 900 2100 gotTREE\001
4 0 0 50 -1 0 12 0.0000 4 135 825 825 2400 sendTREE\001
4 0 0 50 -1 0 12 0.0000 4 180 1995 300 2625 add TREE to neighbor info\001
4 0 0 50 -1 0 12 0.0000 4 135 1215 4125 2175 sendTREEtimer\001
4 0 0 50 -1 0 12 0.0000 4 135 825 4200 2475 sendTREE\001
4 0 0 50 -1 0 12 0.0000 4 180 915 4200 2700 set root flag\001
4 0 0 50 -1 0 12 0.0000 4 135 375 -75 450 Start\001
4 0 0 50 -1 0 12 0.0000 4 135 1725 2475 15150 HIERARCHYREADY\001
4 0 0 50 -1 0 12 0.0000 4 135 1440 2850 10425 HIERARCHYINIT\001
4 0 0 50 -1 0 12 0.0000 4 135 825 3075 4500 TREEINIT\001
4 0 0 50 -1 0 12 0.0000 4 180 705 4875 13200 gotTREE\001
4 0 0 50 -1 0 12 0.0000 4 180 750 5775 13200 gotTERM\001
4 0 0 50 -1 0 12 0.0000 4 180 1050 6825 13200 gotCLUSTER\001
4 0 0 50 -1 0 12 0.0000 4 180 525 5775 13500 Ignore!\001
4 0 0 50 -1 0 12 0.0000 4 135 990 5250 7275 WAITTERM\001
4 0 0 50 -1 0 12 0.0000 4 135 1260 -1200 7125 sendTERMtimer\001
4 0 0 50 -1 0 12 0.0000 4 135 2400 -1200 7350 rexmit TERM and/or CLUSTER\001
4 0 0 50 -1 0 12 0.0000 4 135 1290 900 6975 WAITCLUSTER\001
4 0 0 50 -1 0 12 0.0000 4 135 1035 -1950 3900 Leaf Shortcut\001
4 0 0 50 -1 0 12 0.0000 4 135 1140 -3075 11325 sendTreeTimer\001
4 0 0 50 -1 0 12 0.0000 4 135 1755 -3075 11625 start another execution\001
